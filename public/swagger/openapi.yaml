openapi: 3.0.0
info:
  title: Inventory Management API
  description: |
    REST API for managing inventory items, locations, categories, and suppliers.

    ## Features
    - Manage inventory items with categories
    - Track item locations and quantities
    - Organize locations in hierarchical structure
    - Manage suppliers and item-supplier relationships
    - Track supplier-specific item details like pricing and lead times
    - Full CRUD operations for all resources


    **How to authenticate:**
    1. Click on authentication in the right side of the page
    2. In the popup dialog, enter your token in the input field

    Once Entered all API requests will automatically include your authentication token.

  version: 1.0.0
  contact:
    name: API Support
    email: support@inventory-api.com
servers:
  - url: /api
    description: API Base URL
security:
  - bearerAuth: []
tags:
  - name: Authentication
    description: Operations related to user authentication
  - name: Items
    description: Operations for managing inventory items, including creation, retrieval, updating, and deletion.
  - name: Categories
    description: managing categories of items, including creation, retrieval, updating, and deletion.
  - name: Locations
    description: management of item locations, including creation, retrieval, updating, and deletion.
  - name: Suppliers
    description: Operations for managing item suppliers, including creation, retrieval, updating, and deletion.
  - name: Users
    description: Operations for managing system users, including creation, retrieval, updating, and deletion.
  - name: Stocks
    description: Operations for managing stock levels, including creation, retrieval, updating, and deletion.
  - name: Units of Measure
    description: Operations for managing units of measurement, including creation, retrieval, updating, and deletion.
  - name: CheckInOut
    description: Operations related to checking in and out items
  - name: Maintenances
    description: Operations for managing maintenance records
paths:
  /login:
    post:
      tags:
        - Authentication
      summary: User login
      description: Authenticate a user and get access token
      security: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                password:
                  type: string
                  format: password
                  example: password123
              required:
                - email
                - password
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      token:
                        type: string
                        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
                      user:
                        $ref: '#/components/schemas/User'
                  meta:
                    type: object
                    properties:
                      message:
                        type: string
                        example: Login successful
        '401':
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /items:
    get:
      tags:
        - Items
      summary: Get all items
      description: Retrieve a list of all inventory items with optional filtering
      parameters:
        - name: category_id
          in: query
          description: Filter items by category ID
          schema:
            type: integer
        - name: user_id
          in: query
          description: Filter items by user ID
          schema:
            type: integer
        - name: active
          in: query
          description: Filter items by active status
          schema:
            type: boolean
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsResponse'
    post:
      tags:
        - Items
      summary: Create a new item
      description: Add a new item to the inventory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemRequest'
      responses:
        '201':
          description: Item created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /items/{id}:
    get:
      tags:
        - Items
      summary: Get a specific item
      description: Retrieve details of a specific item by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemResponse'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Items
      summary: Update an item
      description: Update an existing item's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemRequest'
      responses:
        '200':
          description: Item updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemResponse'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Items
      summary: Delete an item
      description: Remove an item from the inventory
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item to delete
          schema:
            type: integer
      responses:
        '200':
          description: Item deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /categories:
    get:
      tags:
        - Categories
      summary: Get all categories
      description: Retrieve a list of all categories with item counts
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriesResponse'
    post:
      tags:
        - Categories
      summary: Create a new category
      description: Add a new category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        '201':
          description: Category created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /categories/{id}:
    get:
      tags:
        - Categories
      summary: Get a specific category
      description: Retrieve details of a specific category by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryResponse'
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Categories
      summary: Update a category
      description: Update an existing category's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryRequest'
      responses:
        '200':
          description: Category updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryResponse'
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Categories
      summary: Delete a category
      description: Remove a category (only if it has no associated items)
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the category to delete
          schema:
            type: integer
      responses:
        '200':
          description: Category deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Cannot delete category with associated items
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /locations:
    get:
      tags:
        - Locations
      summary: Get all locations
      description: Retrieve a list of all locations
      parameters:
        - name: active
          in: query
          description: Filter locations by active status
          schema:
            type: boolean
        - name: per_page
          in: query
          description: Number of results per page
          schema:
            type: integer
            default: 15
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationsResponse'
    post:
      tags:
        - Locations
      summary: Create a new location
      description: Add a new storage location
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LocationRequest'
      responses:
        '201':
          description: Location created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /locations/{id}:
    get:
      tags:
        - Locations
      summary: Get a specific location
      description: Retrieve details of a specific location by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the location to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationResponse'
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Locations
      summary: Update a location
      description: Update an existing location's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the location to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LocationRequest'
      responses:
        '200':
          description: Location updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationResponse'
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Locations
      summary: Delete a location
      description: Remove a location (only if it has no child locations)
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the location to delete
          schema:
            type: integer
      responses:
        '200':
          description: Location deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Location not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Cannot delete location with child locations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /suppliers:
    get:
      tags:
        - Suppliers
      summary: Get all suppliers
      description: Retrieve a list of all suppliers with optional filtering
      parameters:
        - name: active
          in: query
          description: Filter suppliers by active status
          schema:
            type: boolean
        - name: search
          in: query
          description: Search suppliers by name, code, contact name or email
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuppliersResponse'
    post:
      tags:
        - Suppliers
      summary: Create a new supplier
      description: Add a new supplier
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SupplierRequest'
      responses:
        '201':
          description: Supplier created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SupplierResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /suppliers/{id}:
    get:
      tags:
        - Suppliers
      summary: Get a specific supplier
      description: Retrieve details of a specific supplier by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the supplier to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SupplierResponse'
        '404':
          description: Supplier not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Suppliers
      summary: Update a supplier
      description: Update an existing supplier's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the supplier to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SupplierRequest'
      responses:
        '200':
          description: Supplier updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SupplierResponse'
        '404':
          description: Supplier not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Suppliers
      summary: Delete a supplier
      description: Remove a supplier
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the supplier to delete
          schema:
            type: integer
      responses:
        '200':
          description: Supplier deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Supplier not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users:
    get:
      tags:
        - Users
      summary: Get all users
      description: Retrieve a list of all users with optional filtering
      parameters:
        - name: role
          in: query
          description: Filter users by role
          schema:
            type: string
        - name: active
          in: query
          description: Filter users by active status
          schema:
            type: boolean
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
    post:
      tags:
        - Users
      summary: Create a new user
      description: Add a new user to the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '201':
          description: User created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /users/{id}:
    get:
      tags:
        - Users
      summary: Get a specific user
      description: Retrieve details of a specific user by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Users
      summary: Update a user
      description: Update an existing user's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRequest'
      responses:
        '200':
          description: User updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Users
      summary: Delete a user
      description: Remove a user from the system
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the user to delete
          schema:
            type: integer
      responses:
        '200':
          description: User deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: User not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/role/{role}:
    get:
      tags:
        - Users
      summary: Get users by role
      description: Retrieve all users with a specific role
      parameters:
        - name: role
          in: path
          required: true
          description: Role to filter users by
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
  /users/with-items:
    get:
      tags:
        - Users
      summary: Get users with items
      description: Retrieve all users who have items assigned to them
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
  /users/active:
    get:
      tags:
        - Users
      summary: Get active users
      description: Retrieve all active users
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersResponse'
  /stocks:
    get:
      tags:
        - Stocks
      summary: Get all stocks
      description: Retrieve a list of all stocks
      parameters:
        - name: active
          in: query
          description: Filter stocks by active status
          schema:
            type: boolean
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StocksResponse'
    post:
      tags:
        - Stocks
      summary: Create a new stock
      description: Add a new stock
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockRequest'
      responses:
        '201':
          description: Stock created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /stocks/{id}:
    get:
      tags:
        - Stocks
      summary: Get a specific stock
      description: Retrieve details of a specific stock by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the stock to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockResponse'
        '404':
          description: Stock not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Stocks
      summary: Update a stock
      description: Update an existing stock's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the stock to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/StockRequest'
      responses:
        '200':
          description: Stock updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StockResponse'
        '404':
          description: Stock not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Stocks
      summary: Delete a stock
      description: Remove a stock
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the stock to delete
          schema:
            type: integer
      responses:
        '200':
          description: Stock deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Stock not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /stocks/with-items:
    get:
      tags:
        - Stocks
      summary: Get stocks with items
      description: Retrieve all stocks that have items
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StocksResponse'
  /stocks/active:
    get:
      tags:
        - Stocks
      summary: Get active stocks
      description: Retrieve all active stocks
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StocksResponse'
  /units-of-measure:
    get:
      tags:
        - Units of Measure
      summary: Get all units of measure
      description: Retrieve a list of all units of measure
      parameters:
        - name: active
          in: query
          description: Filter units by active status
          schema:
            type: boolean
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitsOfMeasureResponse'
    post:
      tags:
        - Units of Measure
      summary: Create a new unit of measure
      description: Add a new unit of measure
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnitOfMeasureRequest'
      responses:
        '201':
          description: Unit of measure created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitOfMeasureResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /units-of-measure/{id}:
    get:
      tags:
        - Units of Measure
      summary: Get a specific unit of measure
      description: Retrieve details of a specific unit of measure by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the unit of measure to retrieve
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitOfMeasureResponse'
        '404':
          description: Unit of measure not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Units of Measure
      summary: Update a unit of measure
      description: Update an existing unit of measure's information
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the unit of measure to update
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnitOfMeasureRequest'
      responses:
        '200':
          description: Unit of measure updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitOfMeasureResponse'
        '404':
          description: Unit of measure not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Units of Measure
      summary: Delete a unit of measure
      description: Remove a unit of measure
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the unit of measure to delete
          schema:
            type: integer
      responses:
        '200':
          description: Unit of measure deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Unit of measure not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /units-of-measure/name/{name}:
    get:
      tags:
        - Units of Measure
      summary: Get units of measure by name
      description: Retrieve units of measure by name
      parameters:
        - name: name
          in: path
          required: true
          description: Name to filter units of measure by
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitsOfMeasureResponse'
  /units-of-measure/active:
    get:
      tags:
        - Units of Measure
      summary: Get active units of measure
      description: Retrieve all active units of measure
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnitsOfMeasureResponse'
  /items/{itemId}/checkout:
    post:
      tags:
        - CheckInOut
      summary: Checkout an item
      description: Checkout an item by ID
      parameters:
        - name: itemId
          in: path
          required: true
          description: ID of the item to checkout
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  example: 1
                checkout_location_id:
                  type: integer
                  example: 2
                expected_return_date:
                  type: string
                  format: date
                  example: '2024-07-01'
                status_out_id:
                  type: integer
                  example: 1
                notes:
                  type: string
                  example: 'For project X'
              required:
                - quantity
                - checkout_location_id
      responses:
        '200':
          description: Item checked out successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckInOutResponse'
        '409':
          description: Item is already checked out or in maintenance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /items/{itemId}/checkin:
    post:
      tags:
        - CheckInOut
      summary: Checkin an item
      description: Checkin an item by ID
      parameters:
        - name: itemId
          in: path
          required: true
          description: ID of the item to checkin
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                checkin_location_id:
                  type: integer
                  example: 2
                checkin_quantity:
                  type: integer
                  example: 1
                status_in_id:
                  type: integer
                  example: 1
                notes:
                  type: string
                  example: 'Returned in good condition'
              required:
                - checkin_location_id
      responses:
        '200':
          description: Item checked in successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckInOutResponse'
        '403':
          description: Not authorized to check in this item
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Item is not checked out
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /items/{itemId}/history:
    get:
      tags:
        - CheckInOut
      summary: Get item check-in/out history
    ItemSupplierRequest:
      type: object
      properties:
        supplier_part_number:
          type: string
          example: SUP-PART-001
        price:
          type: number
          format: float
          example: 99.99
        lead_time:
          type: integer
          example: 3
          description: Lead time in days
        is_preferred:
          type: boolean
          example: true
    ItemResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Item'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Item retrieved successfully
    ItemsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Item'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Items retrieved successfully
    CategoryResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Category'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Category retrieved successfully
    CategoriesResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Category'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Categories retrieved successfully
    LocationResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Location'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Location retrieved successfully
    LocationsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Location'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Locations retrieved successfully
    InventoryRecordResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/InventoryRecord'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Inventory record retrieved successfully
    InventoryResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/InventoryRecord'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Inventory records retrieved successfully
    SupplierResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Supplier'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Supplier retrieved successfully
    SuppliersResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Supplier'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Suppliers retrieved successfully
    SuccessResponse:
      type: object
      properties:
        data:
          type: null
          example: null
        meta:
          type: object
          properties:
            message:
              type: string
              example: Operation completed successfully
    Error:
      type: object
      properties:
        error:
          type: string
          example: Resource not found
    ValidationError:
      type: object
      properties:
        error:
          type: string
          example: Validation failed
        errors:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
          example:
            name: ['The name field is required.']
            code: ['The code field must be unique.']
    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: John Doe
        email:
          type: string
          format: email
          example: john.doe@example.com
        role:
          type: string
          example: admin
        is_active:
          type: boolean
          example: true
        active:
          type: boolean
          example: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    UserRequest:
      type: object
      properties:
        name:
          type: string
          example: John Doe
        email:
          type: string
          format: email
          example: john.doe@example.com
        password:
          type: string
          format: password
          example: securepassword123
        role:
          type: string
          example: admin
        is_active:
          type: boolean
          example: true
      required:
        - name
        - email
        - password
    UserResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/User'
        meta:
          type: object
          properties:
            message:
              type: string
              example: User retrieved successfully
    UsersResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/User'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Users retrieved successfully
    Stock:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Main Stock
        code:
          type: string
          example: STK-001
        description:
          type: string
          example: Primary inventory stock
        is_active:
          type: boolean
          example: true
        active:
          type: boolean
          example: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    StockRequest:
      type: object
      properties:
        name:
          type: string
          example: Main Stock
        code:
          type: string
          example: STK-001
        description:
          type: string
          example: Primary inventory stock
        is_active:
          type: boolean
          example: true
      required:
        - name
        - code
    StockResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Stock'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Stock retrieved successfully
    StocksResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Stock'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Stocks retrieved successfully
    UnitOfMeasure:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Piece
        abbreviation:
          type: string
          example: pcs
        description:
          type: string
          example: Individual item unit
        is_active:
          type: boolean
          example: true
        active:
          type: boolean
          example: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    UnitOfMeasureRequest:
      type: object
      properties:
        name:
          type: string
          example: Piece
        abbreviation:
          type: string
          example: pcs
        description:
          type: string
          example: Individual item unit
        is_active:
          type: boolean
          example: true
      required:
        - name
        - abbreviation
    UnitOfMeasureResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/UnitOfMeasure'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Unit of measure retrieved successfully
    UnitsOfMeasureResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/UnitOfMeasure'
        meta:
          type: object
          properties:
            message:
              type: string
              example: Units of measure retrieved successfully
  /items/code/{code}:
    get:
      tags:
        - Items
      summary: Get items by code
      description: Retrieve all items with a specific code
      parameters:
        - name: code
          in: path
          required: true
          description: Code to filter items by
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemsResponse'
        '404':
          description: No items found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /item-locations:
    get:
      tags:
        - Locations
      summary: Get all item-location assignments
      description: Retrieve a list of all item-location assignments
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemLocationsResponse'
    post:
      tags:
        - Locations
      summary: Assign an item to a location
      description: Assign an item to a location
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemLocationRequest'
      responses:
        '201':
          description: Assignment created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemLocationResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /item-locations/{id}:
    get:
      tags:
        - Locations
      summary: Get a specific item-location assignment
      description: Retrieve details of a specific item-location assignment by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item-location assignment
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemLocationResponse'
        '404':
          description: Assignment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Locations
      summary: Update an item-location assignment
      description: Update an existing item-location assignment
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item-location assignment
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ItemLocationRequest'
      responses:
        '200':
          description: Assignment updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ItemLocationResponse'
        '404':
          description: Assignment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Locations
      summary: Remove an item from a location
      description: Remove an item from a location
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the item-location assignment
          schema:
            type: integer
      responses:
        '204':
          description: Assignment deleted successfully
        '404':
          description: Assignment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /maintenances:
    get:
      tags:
        - Maintenances
      summary: Get all maintenances
      description: Retrieve a list of all maintenance records
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenancesResponse'
    post:
      tags:
        - Maintenances
      summary: Create a new maintenance record
      description: Add a new maintenance record
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceRequest'
      responses:
        '201':
          description: Maintenance created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceResponse'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
  /maintenances/{id}:
    get:
      tags:
        - Maintenances
      summary: Get a specific maintenance record
      description: Retrieve details of a specific maintenance record by ID
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the maintenance record
          schema:
            type: integer
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceResponse'
        '404':
          description: Maintenance not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - Maintenances
      summary: Update a maintenance record
      description: Update an existing maintenance record
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the maintenance record
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MaintenanceRequest'
      responses:
        '200':
          description: Maintenance updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaintenanceResponse'
        '404':
          description: Maintenance not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '422':
          description: Validation error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
    delete:
      tags:
        - Maintenances
      summary: Delete a maintenance record
      description: Remove a maintenance record
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the maintenance record
          schema:
            type: integer
      responses:
        '200':
          description: Maintenance deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '404':
          description: Maintenance not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Item:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Laptop XPS 15
        code:
          type: string
          example: COMP-001
        description:
          type: string
          example: High performance laptop
        quantity:
          type: integer
          example: 10
        unit:
          type: string
          example: pcs
        price:
          type: number
          format: float
          example: 1299.99
        is_active:
          type: boolean
          example: true
        active:
          type: boolean
          example: true
        specifications:
          type: object
          example:
            { 'processor': 'Intel i7', 'ram': '16GB', 'storage': '512GB SSD' }
        category_id:
          type: integer
          example: 2
        user_id:
          type: integer
          nullable: true
          example: 1
        category:
          $ref: '#/components/schemas/Category'
    Category:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Electronics
        parent_id:
          type: integer
          nullable: true
          example: null
        items_count:
          type: integer
          example: 5
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        children:
          type: array
          items:
            type: object 
    Location:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: Main Warehouse
        code:
          type: string
          example: WH-MAIN
        parent_id:
          type: integer
          nullable: true
          example: null
        path:
          type: string
          example: '/1/'
          description: String for ancestry tracking (e.g. /1/3/5/)
        is_active:
          type: boolean
          example: true
        active:
          type: boolean
          example: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        children:
          type: array
          items:
            type: object 
    Maintenance:
      type: object
      properties:
        id:
          type: integer
          example: 1
        item_id:
          type: integer
          example: 1
        user_id:
          type: integer
          example: 1
        status:
          type: string
          example: 'active'
        description:
          type: string
          example: 'Routine checkup'
        started_at:
          type: string
          format: date-time
        ended_at:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    ItemLocation:
      type: object
      properties:
        id:
          type: integer
          example: 1
        item_id:
          type: integer
          example: 1
        location_id:
          type: integer
          example: 2
        quantity:
          type: integer
          example: 5
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    CheckInOut:
      type: object
      properties:
        id:
          type: integer
          example: 1
        user_id:
          type: integer
        item_id:
          type: integer
        checkout_location_id:
          type: integer
        checkout_date:
          type: string
          format: date-time
        quantity:
          type: integer
        status_out_id:
          type: integer
          nullable: true
        checkin_user_id:
          type: integer
          nullable: true
        checkin_location_id:
          type: integer
          nullable: true
        checkin_date:
          type: string
          format: date-time
          nullable: true
        checkin_quantity:
          type: integer
          nullable: true
        status_in_id:
          type: integer
          nullable: true
        expected_return_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
          nullable: true
        is_active:
          type: boolean
    ItemRequest:
      type: object
      properties:
        name:
          type: string
          example: Laptop XPS 15
        code:
          type: string
          example: COMP-001
        description:
          type: string
          example: High performance laptop
        quantity:
          type: integer
          example: 10
        unit:
          type: string
          example: pcs
        price:
          type: number
          format: float
          example: 1299.99
        category_id:
          type: integer
          example: 2
        user_id:
          type: integer
          nullable: true
          example: 1
        is_active:
          type: boolean
          example: true
        specifications:
          type: object
          example:
            { 'processor': 'Intel i7', 'ram': '16GB', 'storage': '512GB SSD' }
      required:
        - name
        - code
        - quantity
        - category_id
    CategoryRequest:
      type: object
      properties:
        name:
          type: string
          example: Electronics
        parent_id:
          type: integer
          nullable: true
          example: null
      required:
        - name
    LocationRequest:
      type: object
      properties:
        name:
          type: string
          example: Main Warehouse
        code:
          type: string
          example: WH-MAIN
        parent_id:
          type: integer
          nullable: true
          example: null
        is_active:
          type: boolean
          example: true
      required:
        - name
    SupplierRequest:
      type: object
      properties:
        name:
          type: string
          example: Tech Supplies Inc.
        code:
          type: string
          example: SUP-001
        is_active:
          type: boolean
          example: true
      required:
        - name
    ItemSupplierRequest:
      type: object
      properties:
        item_id:
          type: integer
        supplier_id:
          type: integer
        supplier_part_number:
          type: string
          example: SUP-PART-001
        price:
          type: number
          format: float
          example: 99.99
        lead_time:
          type: integer
          example: 3
          description: Lead time in days
        is_preferred:
          type: boolean
          example: true
      required:
        - item_id
        - supplier_id
    MaintenanceRequest:
      type: object
      properties:
        item_id:
          type: integer
        user_id:
          type: integer
        status:
          type: string
          example: 'active'
        description:
          type: string
          nullable: true
        started_at:
          type: string
          format: date
        ended_at:
          type: string
          format: date
          nullable: true
      required:
        - item_id
        - user_id
        - status
        - started_at
    ItemLocationRequest:
      type: object
      properties:
        item_id:
          type: integer
        location_id:
          type: integer
        quantity:
          type: integer
      required:
        - item_id
        - location_id
        - quantity
    ItemResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Item'
    ItemsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Item'
    CategoryResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Category'
    CategoriesResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Category'
    LocationResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Location'
    LocationsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Location'
    SupplierResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Supplier'
    SuppliersResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Supplier'
    CheckInOutResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/CheckInOut'
    CheckInOutHistoryResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/CheckInOut'
    MaintenanceResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Maintenance'
    MaintenancesResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Maintenance'
    ItemLocationResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/ItemLocation'
    ItemLocationsResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/ItemLocation'
    User:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: John Doe
        email:
          type: string
          format: email
          example: john.doe@example.com
    UserRequest:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        password:
          type: string
        role:
          type: string
        is_active:
          type: boolean
      required:
        - name
        - email
        - password
    UserResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/User'
    UsersResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/User'
    Stock:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
    StockRequest:
      type: object
      properties:
        name:
          type: string
        code:
          type: string
      required:
        - name
        - code
    StockResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/Stock'
    StocksResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Stock'
    UnitOfMeasure:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        abbreviation:
          type: string
    UnitOfMeasureRequest:
      type: object
      properties:
        name:
          type: string
        abbreviation:
          type: string
      required:
        - name
        - abbreviation
    UnitOfMeasureResponse:
      type: object
      properties:
        data:
          $ref: '#/components/schemas/UnitOfMeasure'
    UnitsOfMeasureResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/UnitOfMeasure'
    SuccessResponse:
      type: object
      properties:
        message:
          type: string
          example: Operation completed successfully
    Error:
      type: object
      properties:
        message:
          type: string
          example: Resource not found
    ValidationError:
      type: object
      properties:
        message:
          type: string
          example: Validation failed
        errors:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
          example:
            name: ['The name field is required.']
            code: ['The code field must be unique.']
